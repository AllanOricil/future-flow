"use strict";var _slicedToArray=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],o=!0,n=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){n=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_get=function t(e,i,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,o)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(o):void 0},_createClass=function(){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var img=new Image;img.src="./bell.svg";var EventEmitter=function(){function t(){_classCallCheck(this,t),this.callbacks={}}return _createClass(t,[{key:"on",value:function(t,e){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e)}},{key:"emit",value:function(t,e){var i=this.callbacks[t];i&&i.forEach(function(t){return t(e)})}}]),t}(),Entity=function(){function r(t,e,i,o){_classCallCheck(this,r);var n=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.x=t,n.y=e,n.w=i,n.h=o,n.events=[],n.connections=[],n.selected=!1,n._id=+new Date+1e5*Math.random(),n.on("click",function(t){n.selected=!n.selected}),n}return _inherits(r,EventEmitter),_createClass(r,[{key:"addConnection",value:function(t){var e=new Connection(this,t);this.connections.push(e)}},{key:"draw",value:function(){}},{key:"contains",value:function(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h}},{key:"area",get:function(){return this.w*this.h}},{key:"center",get:function(){return{x:this.x+this.w/2,y:this.y+this.h/2}}},{key:"sides",get:function(){return[{x:this.x+this.w/2,y:this.y,name:"top"},{x:this.x+this.w,y:this.y+this.h/2,name:"right"},{x:this.x+this.w/2,y:this.y+this.h,name:"bottom"},{x:this.x,y:this.y+this.h/2,name:"left"}]}}]),r}(),Rect=function(){function n(t,e,i,o){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,o))}return _inherits(n,Entity),_createClass(n,[{key:"draw",value:function(e){_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).call(this,e),e.fillStyle="black",e.beginPath(),e.rect(this.x,this.y,this.w,this.h),e.stroke(),Object.values(this.sides).forEach(function(t){e.beginPath(),e.strokeStyle="red",e.arc(t.x,t.y,2,0,2*Math.PI,!0),e.stroke()}),this.connections.forEach(function(t){t.draw(e),Object.values(t.closesPoints).forEach(function(t){e.beginPath(),e.strokeStyle="green",e.arc(t.x,t.y,2,0,2*Math.PI,!0),e.stroke()})})}}]),n}(),Block=function(){function p(t){var e=t.x,i=t.y,o=t.isDraggable,n=t.background,r=t.shadow,a=t.border,s=t.header,l=t.body,h=t.footer;_classCallCheck(this,p);var c=_possibleConstructorReturn(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e||0,i||0,1,1));return c.x=e||0,c.y=i||0,c.background=n||{color:"rgb(255,255,255)"},c.border=a||{radius:5,normal:{width:1,color:"black"},selected:{width:1,color:"black"},hover:{width:1,color:"black"}},c.shadow=r,c.isDraggable=0!=o,s&&(c.header=s,c._headerTextHeight=getTextHeight({fontFamily:c.header.font.family,fontSize:c.header.font.size,fontWeight:c.header.font.weight}),c.header.padding=s.padding||p.PADDING()),l&&(c.body=l,c._bodyTextHeight=getTextHeight({fontFamily:c.body.font.family,fontSize:c.body.font.size,fontWeight:c.body.font.weight}),c.body.padding=l.padding||p.PADDING()),h&&(c.footer=h,c._footerTextHeight=getTextHeight({fontFamily:c.footer.font.family,fontSize:c.footer.font.size,fontWeight:c.footer.font.weight}),c.footer.padding=h.padding||p.PADDING()),c}return _inherits(p,Rect),_createClass(p,null,[{key:"MAX_WIDTH",value:function(){return 350}},{key:"MAX_HEIGHT",value:function(){return 500}},{key:"PADDING",value:function(){return{top:15,right:15,bottom:15,left:15}}},{key:"ICON",value:function(){return{width:25,height:25}}}]),_createClass(p,[{key:"draw",value:function(n){var r=this,t=this.border.radius,e=this.x+this.w,i=this.y+this.h;n.save(),this.shadow&&(n.shadowColor=this.shadow.color,n.shadowBlur=this.shadow.blur,n.shadowOffsetX=this.shadow.offset.x,n.shadowOffsetY=this.shadow.offset.y),n.strokeStyle=this.border.normal.color,n.fillStyle=this.background.color,n.lineWidth=this.border.normal.width,n.beginPath(),n.moveTo(this.x+t,this.y),n.lineTo(e-t,this.y),n.quadraticCurveTo(e,this.y,e,this.y+t),n.lineTo(e,this.y+this.h-t),n.quadraticCurveTo(e,i,e-t,i),n.lineTo(this.x+t,i),n.quadraticCurveTo(this.x,i,this.x,i-t),n.lineTo(this.x,this.y+t),n.quadraticCurveTo(this.x,this.y,this.x+t,this.y),n.stroke(),n.fill(),n.closePath(),n.restore(),this.selected&&(n.save(),n.strokeStyle="rgba(0,183,249,1)",n.lineWidth="4",n.beginPath(),n.moveTo(this.x+t,this.y),n.lineTo(e-t,this.y),n.quadraticCurveTo(e,this.y,e,this.y+t),n.lineTo(e,this.y+this.h-t),n.quadraticCurveTo(e,i,e-t,i),n.lineTo(this.x+t,i),n.quadraticCurveTo(this.x,i,this.x,i-t),n.lineTo(this.x,this.y+t),n.quadraticCurveTo(this.x,this.y,this.x+t,this.y),n.stroke(),n.closePath(),n.restore());var a=0,o=0;if(this.header){n.textBaseline="top",n.font=this.header.font.style+" "+this.header.font.variant+" "+this.header.font.weight+" "+this.header.font.size+"px "+this.header.font.family,n.fillStyle=this.header.font.color,n.textAlign=this.header.alignment;var s=0,l=0;this.header.icon&&(s=p.ICON().width,l=p.ICON().height,n.drawImage(img,this.x+this.header.padding.left,this.y+this.header.padding.top,s,l));var h=void 0;h=this._headerTextHeight.height<l?((a=this.header.padding.top+l+this.header.padding.bottom)-this._headerTextHeight.ascent)/2:(a=this.header.padding.top+this._headerTextHeight.ascent+this.header.padding.bottom,this.header.padding.top);var c=this.x+s+this.header.padding.right+(this.header.icon?this.header.padding.left:0);n.fillText(this.header.text,c,this.y+h),o=this.header.padding.left+s+this.header.padding.right+n.measureText(this.header.text).width+this.header.padding.right,this.header.divider&&(n.save(),n.strokeStyle=this.header.divider.color,n.lineWidth=this.header.divider.width,n.beginPath(),n.moveTo(this.x,this.y+a),n.lineTo(this.x+this.w,this.y+a),n.stroke(),n.closePath(),n.restore())}var d=0,f=0;if(this.body){n.save(),n.font=this.body.font.style+" "+this.body.font.variant+" "+this.body.font.weight+" "+this.body.font.size+"px "+this.body.font.family,n.fillStyle=this.body.font.color,n.textAlign=this.body.alignment,n.textBaseline="top";var g=[],y=this.body.text.split(" "),u=0;y.forEach(function(t){var e=n.measureText(t).width,i=n.measureText(g[u]||"").width;r.body.padding.left+i+e+r.body.padding.right>p.MAX_WIDTH()&&u++;var o=g[u]||"";g[u]=o+=(0<o.length?" ":"")+t}),g.forEach(function(t,e){var i=r.y+a+r._bodyTextHeight.height*e+r.body.padding.top;n.fillText(t,r.x+r.body.padding.left,i);var o=n.measureText(t).width;f=f<o?o:f}),n.restore(),d=this.body.padding.top+g.length*this._bodyTextHeight.height+this.body.padding.bottom,f+=this.body.padding.left+this.body.padding.right}var v=0,m=0;this.footer&&(this.footer.divider&&(n.save(),n.strokeStyle=this.footer.divider.color,n.lineWidth=this.footer.divider.width,n.beginPath(),n.moveTo(this.x,this.y+a+d),n.lineTo(this.x+this.w,this.y+a+d),n.stroke(),n.closePath(),n.restore()),n.textBaseline="top",n.font=this.footer.font.style+" "+this.footer.font.variant+" "+this.footer.font.weight+" "+this.footer.font.size+"px "+this.footer.font.family,n.fillStyle=this.footer.font.color,n.textAlign=this.footer.alignment,n.alignment="top",n.fillText(this.footer.text,this.x+this.footer.padding.left,this.y+a+d+this.footer.padding.top),v=this.footer.padding.top+this._footerTextHeight.height+this.footer.padding.bottom,m=this.footer.padding.left+n.measureText(this.footer.text).width+this.footer.padding.right);var x=f<o&&m<o?o:m<f?f:m,b=a+d+v;this.w=0<x?x:100,this.h=0<b?b:100,this.connections.forEach(function(t){t.draw(n)})}}]),p}(),Connection=function(){function o(t,e){_classCallCheck(this,o);var i=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t.x,t.y));return i.from=t,i.to=e,i}return _inherits(o,Entity),_createClass(o,[{key:"draw",value:function(e){if(0<this.path.length){e.lineWidth="2",e.strokeStyle="rgb(200,200,200)",e.beginPath(),e.moveTo(this.path[0].x,this.path[0].y),this.path.forEach(function(t){e.lineTo(Math.ceil(t.x),Math.ceil(t.y)),e.stroke()}),e.closePath();var t=this.path[this.path.length-1],i=this.path[this.path.length-2];t.x==i.x?t.y>i.y?(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+10,t.y-10),e.lineTo(t.x-10,t.y-10)):(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x-10,t.y+10),e.lineTo(t.x+10,t.y+10)):t.x>i.x?(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x-10,t.y-10),e.lineTo(t.x-10,t.y+10)):(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+10,t.y-10),e.lineTo(t.x+10,t.y+10)),e.fillStyle="rgb(200,200,200)",e.fill(),e.closePath()}}},{key:"closesPoints",get:function(){var t=this,o=1/0,n={};return this.from.sides.forEach(function(i){t.to.sides.forEach(function(t){var e=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));e<o&&(o=e,n={from:i,to:t})})}),n}},{key:"path",get:function(){var t=this.closesPoints,e=t.from,i=t.to,o=Math.abs(i.x-e.x)/2,n=Math.abs(i.y-e.y)/2,r=[];return"left"===e.name&&"right"===i.name||"right"===e.name&&"left"===i.name?(e.x>i.x&&(o*=-1),r.push({x:e.x,y:e.y},{x:e.x+o,y:e.y},{x:i.x-o,y:i.y},{x:i.x,y:i.y})):"bottom"!==e.name&&"top"!==e.name||"right"!==i.name&&"left"!==i.name?"right"!==e.name&&"left"!==e.name||"top"!==i.name&&"bottom"!==i.name?("top"===e.name&&"bottom"===i.name||"bottom"===e.name&&"top"===i.name)&&(e.y>i.y&&(n*=-1),r.push({x:e.x,y:e.y},{x:e.x,y:e.y+n},{x:i.x,y:i.y-n},{x:i.x,y:i.y})):r.push({x:e.x,y:e.y},{x:i.x,y:e.y},{x:i.x,y:i.y}):r.push({x:e.x,y:e.y},{x:e.x,y:i.y},{x:i.x,y:i.y}),r}}]),o}(),Graph=function(){function e(t){_classCallCheck(this,e),this.rects=t}return _createClass(e,[{key:"rects2JSON",get:function(){return JSON.parse(this.rects)}}]),e}(),Canvas=function(){function s(t,e){var d=this,i=e.w,o=e.h,n=e.options,r=e.data;_classCallCheck(this,s),this.isDrawing=!1,this.el=t,this.el.width=i||400,this.el.height=o||400,this.origin={x:0,y:0},this.entities={},this._isDraggingCanvas=!1,this.isDebugging=n.isDebugging||!1,this.drawOrigin=n.drawOrigin||!1,this.background=n.background||{color:"rgb(255, 255, 255)"},this.scaleLimits={max:n.zoom.max||s.MAX_SCALE(),min:n.zoom.min||s.MIN_SCALE()},this.fps=n.fps||60,this.el.style.backgroundColor=this.background.color;var a={horizontal:1,vertical:1};this.getScale=function(){return a},this.setScale=function(t,e){var i=a.horizontal*t,o=a.vertical*e;i<d.scaleLimits.max&&o<d.scaleLimits.max&&i>=d.scaleLimits.min&&o>=d.scaleLimits.min&&(a={horizontal:i,vertical:o})},this._mousePosition={x:null,y:null},this.canMoveBlocks=n.canMoveBlocks||!1;var h=[],f=null,c=!1;this.el.addEventListener("mousemove",function(t){var e=(t.x-d.origin.x)/d.getScale().horizontal,i=(t.y-d.origin.y)/d.getScale().vertical;d._mousePosition.x=e,d._mousePosition.y=i,d._isDraggingCanvas?d.translate(t.movementX,t.movementY):f&&(c=!0,f.x=e-f.w/2,f.y=i-f.h/2)}),this.el.addEventListener("dblclick",function(t){var e=(t.x-d.origin.x)/d.getScale().horizontal,i=(t.y-d.origin.y)/d.getScale().vertical;d.addEntity(new Block({x:e,y:i,header:{text:"Lorem ipsum dolor sit",alignment:"start",font:{family:"Times",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:25,weight:"bold"},icon:"./bell.svg"},body:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent at consectetur lorem. Etiam dignissim dolor sit amet orci efficitur auctor.",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}},footer:{text:"Lorem ipsum dolor sit",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}}}))}),this.el.addEventListener("click",function(t){var s=(t.x-d.origin.x)/d.getScale().horizontal,l=(t.y-d.origin.y)/d.getScale().vertical;if(c)c=!1;else{for(var e=function(t){var e=d.entitiesArray[t];if(e.contains(s,l)){if(e.emit("click"),0===h.length?h.push(e):h.forEach(function(t){t._id!==e._id&&h.push(e)}),2==h.length){for(var i=h.pop(),o=h.pop(),n=!1,r=0;r<o.connections.length;r++){if(o.connections[r].to._id===i._id){n=!0;break}}for(var a=0;a<i.connections.length;a++){if(i.connections[a].to._id===o._id){n=!0;break}}n||o.addConnection(i),h=[]}return{v:void 0}}},i=0;i<d.entitiesArray.length;i++){var o=e(i);if("object"===(void 0===o?"undefined":_typeof(o)))return o.v}h=[]}}),this.el.addEventListener("mousedown",function(t){for(var e=(t.x-d.origin.x)/d.getScale().horizontal,i=(t.y-d.origin.y)/d.getScale().vertical,o=0;o<d.entitiesArray.length;o++){var n=d.entitiesArray[o];if(n.contains(e,i))return void(!f&&d.canMoveBlocks&&n.isDraggable&&(f=n))}d._isDraggingCanvas=!0}),this.el.addEventListener("mouseup",function(t){d._isDraggingCanvas=!1,f=f&&null}),this.el.addEventListener("wheel",function(t){0<t.wheelDelta?d.setScale(1.01,1.01):d.setScale(.99,.99)});var g=null,y=null;this.el.addEventListener("touchstart",function(t){if(1===(g=t).touches.length){for(var e=t.touches[0].clientX,i=t.touches[0].clientY,o=(e-d.origin.x)/d.getScale().horizontal,n=(i-d.origin.y)/d.getScale().vertical,r=0;r<d.entitiesArray.length;r++){var a=d.entitiesArray[r];if(a.contains(o,n))return void(f=f||a)}d._isDraggingCanvas=!0}if(y&&t.timeStamp-y.timeStamp<=200){var s=t.touches[0].clientX,l=t.touches[0].clientY,h=(s-d.origin.x)/d.getScale().horizontal,c=(l-d.origin.y)/d.getScale().vertical;d.addEntity(new Block({x:h,y:c,header:{text:"Lorem ipsum dolor sit",alignment:"start",font:{family:"Times",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:25,weight:"bold"},icon:"./bell.svg"},body:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent at consectetur lorem. Etiam dignissim dolor sit amet orci efficitur auctor.",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}},footer:{text:"Lorem ipsum dolor sit",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}}}))}y=t}),this.el.addEventListener("touchmove",function(t){if(1===t.touches.length){if(d._isDraggingCanvas){var e=t.touches[0].clientX-g.touches[0].clientX,i=t.touches[0].clientY-g.touches[0].clientY;d.translate(e,i)}else if(f){c=!0;var o=t.touches[0].clientX,n=t.touches[0].clientY,r=(o-d.origin.x)/d.getScale().horizontal,a=(n-d.origin.y)/d.getScale().vertical;f.x=r-f.w/2,f.y=a-f.h/2}g=t}}),this.el.addEventListener("touchend",function(t){d._isDraggingCanvas=!1,f=f&&null,g=t}),r&&this.setData(r),window.addEventListener("resize",function(){d.resize(window.innerWidth,window.innerHeight)},!1),this.start()}return _createClass(s,null,[{key:"MAX_SCALE",value:function(){return 2}},{key:"MIN_SCALE",value:function(){return.2}}]),_createClass(s,[{key:"start",value:function(){var e=this;setInterval(function(){e.isDrawing&&(e.clear(),e.drawOrigin&&(e.ctx.lineWidth="1",e.ctx.strokeStyle="rgba(0,0,0,0.2)",e.ctx.moveTo(e.origin.x,e.origin.y),e.ctx.lineTo(e.origin.x,e.origin.y+100*e.el.height),e.ctx.moveTo(e.origin.x,e.origin.y),e.ctx.lineTo(e.origin.x+100*e.el.width,e.origin.y),e.ctx.moveTo(e.origin.x,e.origin.y),e.ctx.lineTo(e.origin.x-100*e.el.width,e.origin.y),e.ctx.moveTo(e.origin.x,e.origin.y),e.ctx.lineTo(e.origin.x,e.origin.y-100*e.el.height),e.ctx.stroke()),e.ctx.save(),e.ctx.translate(e.origin.x,e.origin.y),e.ctx.scale(e.getScale().horizontal,e.getScale().vertical),Object.values(e.entities).forEach(function(t){t.draw(e.ctx)}),e.ctx.restore())},1e3/this.fps)}},{key:"resize",value:function(t,e){this.el.width=t,this.el.height=e}},{key:"addEntity",value:function(t){this.entities[t._id]=t}},{key:"removeEntity",value:function(t){delete this.entities[t._id]}},{key:"clear",value:function(){this.ctx.clearRect(0,0,canvas.width,canvas.height)}},{key:"translate",value:function(t,e){this.origin.x+=t,this.origin.y+=e}},{key:"setData",value:function(t){var i={};if(t&&0<Object.values(t).length){var e=!0,o=!1,n=void 0;try{for(var r,a=Object.entries(t)[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var s=r.value,l=_slicedToArray(s,2),h=l[0],c=l[1];if(c){var d=new Block(c);this.addEntity(d),i[h]=d}}}catch(t){o=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}var f=function(e,t){t&&t.connections&&t.connections.forEach(function(t){i[t]&&i[e].addConnection(i[t])})},g=!0,y=!1,u=void 0;try{for(var v,m=Object.entries(t)[Symbol.iterator]();!(g=(v=m.next()).done);g=!0){var x=v.value,b=_slicedToArray(x,2);f(b[0],b[1])}}catch(t){y=!0,u=t}finally{try{!g&&m.return&&m.return()}finally{if(y)throw u}}}this.isDrawing=!0}},{key:"ctx",get:function(){return this.el.getContext("2d")}},{key:"entitiesArray",get:function(){return Object.values(this.entities)}}]),s}();function initCanvas(t){var e=t||document.getElementById("canvas");new Canvas(e,{w:window.innerWidth,h:window.innerHeight,options:{background:{color:"rgb(255,255,255)"},fps:60,zoom:{level:1,max:2,min:.2},isDebugging:!1,drawOrigin:!0,editor:!1,canMoveBlocks:!0,autoArrange:!1},data:{start:{x:50,y:72,isDraggable:!0,connections:["stage1"],background:{color:"#12e445"},border:{radius:20,padding:{top:50,right:50,bottom:50,left:50},normal:{width:2,color:"transparent"},selected:{width:2,color:"black"},hover:{width:2,color:"black"}},body:{text:"Start",alignment:"start",divider:{width:1,color:"rgb(0,0,0)"},font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}}},stage1:{x:300,y:45,isDraggable:!0,connections:["end"],border:{radius:20,normal:{width:5,color:"rgba(0,0,0,0.2)"},selected:{width:2,color:"black"},hover:{width:2,color:"black"}},header:{text:"Alert",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"},padding:{top:15,left:15,right:15,bottom:15},icon:"./bell.svg",divider:{color:"rgba(0,0,0,0.2)",width:2}},body:{text:"New Event Created",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}}},end:{x:700,y:72,isDraggable:!0,isConnectable:!0,canConnect:!0,background:{color:"rgb(255,0,0)"},border:{radius:20,padding:{top:50,right:50,bottom:50,left:50},normal:{width:2,color:"transparent"},selected:{width:2,color:"black"},hover:{width:2,color:"black"}},body:{text:"End",alignment:"start",font:{family:"Arial",style:"normal",variant:"normal",color:"rgba(0,0,0,0.6)",size:20,weight:"bold"}}}}})}var getTextHeight=function(t){var e=t.fontFamily,i=t.fontSize,o=t.fontWeight,n=document.createElement("span");n.innerHTML="Hg",n.style.fontFamily=e,n.style.fontSize=i,n.style.fontWeight=o||"normal";var r=document.createElement("div");r.style.display="inline-block",r.style.width="1px",r.style.height="0px";var a=document.createElement("div");a.append(n,r),document.body.appendChild(a);try{var s={};r.style.verticalAlign="baseline",s.ascent=r.offsetTop-n.offsetTop,r.style.verticalAlign="bottom",s.height=r.offsetTop-n.offsetTop,s.descent=s.height-s.ascent}finally{a.remove()}return s};